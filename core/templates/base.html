{% load static %}

<!doctype html>
<html lang="en" data-pc-preset="preset-1" data-pc-sidebar-caption="true" data-pc-direction="ltr" dir="ltr" data-pc-theme="light">
  <!-- [Head] start -->

  <head>
    <title>Home | IpAdmin</title>
    <!-- [Meta] -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="description"
      content="Datta Able is trending dashboard template made using Bootstrap 5 design framework. Datta Able is available in Bootstrap, React, CodeIgniter, Angular,  and .net Technologies."
    />
    <meta
      name="keywords"
      content="Bootstrap admin template, Dashboard UI Kit, Dashboard Template, Backend Panel, react dashboard, angular dashboard"
    />
    <meta name="author" content="CodedThemes" />

    <!-- [Favicon] icon -->
    <link rel="icon" href="{% static 'images/favicon.svg' %} " type="image/x-icon" />

     <!-- [Font] Family -->
     <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;500;600&display=swap" rel="stylesheet" />
    <!-- [phosphor Icons] https://phosphoricons.com/ -->
    <link rel="stylesheet" href="{% static 'fonts/phosphor/duotone/style.css' %} " />
    <!-- [Tabler Icons] https://tablericons.com -->
    <link rel="stylesheet" href="{% static 'fonts/tabler-icons.min.css' %} " />
    <!-- [Feather Icons] https://feathericons.com -->
    <link rel="stylesheet" href="{% static 'fonts/feather.css' %} " />
    <!-- [Font Awesome Icons] https://fontawesome.com/icons -->
    <link rel="stylesheet" href="{% static 'fonts/fontawesome.css' %} " />
    <!-- [Material Icons] https://fonts.google.com/icons -->
    <link rel="stylesheet" href="{% static 'fonts/material.css' %} " />
    <!-- [Template CSS Files] -->
    <link rel="stylesheet" href="{% static 'css/style.css' %} " id="main-style-link" />

    <!-- [Template CSS Files] -->
<link rel="stylesheet" href="{% static 'css/style.css' %}" id="main-style-link" />
<link rel="stylesheet" href="{% static 'vendor/toastify/toastify.css' %}">

  </head>
  <!-- [Head] end -->
  <!-- [Body] Start -->

  <body>
    <!-- [ Pre-loader ] start -->
<div class="loader-bg fixed inset-0 bg-white dark:bg-themedark-cardbg z-[1034]">
  <div class="loader-track h-[5px] w-full inline-block absolute overflow-hidden top-0">
    <div class="loader-fill w-[300px] h-[5px] bg-primary-500 absolute top-0 left-0 animate-[hitZak_0.6s_ease-in-out_infinite_alternate]"></div>
  </div>
</div>
<!-- [ Pre-loader ] End -->
 <!-- [ Sidebar Menu ] start -->
<nav class="pc-sidebar">
  <div class="navbar-wrapper">
    <div class="m-header flex items-center py-4 px-6 h-header-height">
      <a href="{% url 'dashboard:index' %}" class="b-brand flex items-center gap-3">
        <i data-feather="server"></i>
        <span class="text-white text-lg font-semibold">IP Admin</span>
      </a>
    </div>
    <div class="navbar-content h-[calc(100vh_-_74px)] py-2.5">
      <ul class="pc-navbar">
        <li class="pc-item pc-caption">
          <label>Main</label>
        </li>
        <li class="pc-item">
        <li class="pc-item">
          <a href="{% url 'dashboard:index' %}" class="pc-link">
            <span class="pc-micon">
              <i data-feather="home"></i>
            </span>
            <span class="pc-mtext">Dashboard</span>
          </a>
        </li>
        <li class="pc-item pc-caption">
          <label>Resources</label>
          <i data-feather="feather"></i>
        </li>

        {% if request.user.is_superuser %}
           <li class="pc-item pc-hasmenu">
          <a href="{% url 'ipm:listvlan' %}" class="pc-link">
            <span class="pc-micon"> <i data-feather="globe"></i></span>
            <span class="pc-mtext">Vlan List</span>
          </a>
        </li>
       
        <li class="pc-item pc-hasmenu">
          <a href="{% url 'ipm:ippoollist' %}" class="pc-link">
            <span class="pc-micon"> <i data-feather="activity"></i></span>
            <span class="pc-mtext">Ip Pool List</span>
          </a>
        </li>
        <li class="pc-item pc-hasmenu">
          <a href="#" class="pc-link">
            <span class="pc-micon"> <i data-feather="server"></i></span>
            <span class="pc-mtext">IP Management</span>
          </a>
        </li>
        {% endif %}

        
        <li class="pc-item pc-caption">
          <label>Reqeust</label>
          <i data-feather="sidebar"></i>
        </li>
        <li class="pc-item pc-hasmenu">
          <a href="{% url 'requestflow:new_request'%}" class="pc-link" >
            <span class="pc-micon"> <i data-feather="archive"></i></span>
            <span class="pc-mtext">New Reqeust</span>
          </a>
        </li>
        <li class="pc-item pc-hasmenu">
          <a href="{% url 'requestflow:my_requests'%}" class="pc-link" >
            <span class="pc-micon"> <i data-feather="archive"></i></span>
            <span class="pc-mtext">My Reqeust</span>
          </a>
        </li>
        {% if request.user.is_superuser %}
          <li class="pc-item pc-hasmenu">
            <a href="{% url 'requestflow:admin_requests' %}" class="pc-link" >
              <span class="pc-micon"> <i data-feather="clipboard"></i></span>
              <span class="pc-mtext">Request Managment</span>
            </a>
          </li>
        {% endif %}
        

{% if request.user.is_superuser %}
        <li class="pc-item pc-caption">
          <label>Users</label>
          <i data-feather="monitor"></i>
        </li>
        <li class="pc-item pc-hasmenu">
          <a href="{% url 'accounts:user_list' %}" class="pc-link" >
            <span class="pc-micon"> <i data-feather="user"></i></span>
            <span class="pc-mtext">User List</span>
          </a>
        </li>
        <li class="pc-item pc-hasmenu">
          <a href="{% url 'accounts:user_create' %}" class="pc-link" >
            <span class="pc-micon"> <i data-feather="user-plus"></i></span>
            <span class="pc-mtext">New User</span>
          </a>
        </li>
        {% endif %}
        
      </ul>
    </div>
  </div>
</nav>
<!-- [ Sidebar Menu ] end -->
 <!-- [ Header Topbar ] start -->
<header class="pc-header">
  <div class="header-wrapper flex max-sm:px-[15px] px-[25px] grow"><!-- [Mobile Media Block] start -->
<div class="me-auto pc-mob-drp">
  <ul class="inline-flex *:min-h-header-height *:inline-flex *:items-center">
    <!-- ======= Menu collapse Icon ===== -->
    <li class="pc-h-item pc-sidebar-collapse max-lg:hidden lg:inline-flex">
      <a href="#" class="pc-head-link ltr:!ml-0 rtl:!mr-0" id="sidebar-hide">
        <i data-feather="menu"></i>
      </a>
    </li>
    <li class="pc-h-item pc-sidebar-popup lg:hidden">
      <a href="#" class="pc-head-link ltr:!ml-0 rtl:!mr-0" id="mobile-collapse">
        <i data-feather="menu"></i>
      </a>
    </li>
    <li class="dropdown pc-h-item">
      <a class="pc-head-link dropdown-toggle me-0" data-pc-toggle="dropdown" href="#" role="button"
        aria-haspopup="false" aria-expanded="false">
        <i data-feather="search"></i>
      </a>
      <div class="dropdown-menu pc-h-dropdown drp-search">
        <form class="px-2 py-1">
          <input type="search" class="form-control !border-0 !shadow-none" placeholder="Search here. . ." />
        </form>
      </div>
    </li>
  </ul>
</div>
<!-- [Mobile Media Block end] -->
<div class="ms-auto">
  <ul class="inline-flex *:min-h-header-height *:inline-flex *:items-center">
    <li class="dropdown pc-h-item">
      <a class="pc-head-link dropdown-toggle me-0" data-pc-toggle="dropdown" href="#" role="button"
        aria-haspopup="false" aria-expanded="false">
        <i data-feather="sun"></i>
      </a>
      <div class="dropdown-menu dropdown-menu-end pc-h-dropdown">
        <a href="#!" class="dropdown-item" onclick="layout_change('dark')">
          <i data-feather="moon"></i>
          <span>Dark</span>
        </a>
        <a href="#!" class="dropdown-item" onclick="layout_change('light')">
          <i data-feather="sun"></i>
          <span>Light</span>
        </a>
        <a href="#!" class="dropdown-item" onclick="layout_change_default()">
          <i data-feather="settings"></i>
          <span>Default</span>
        </a>
      </div>
    </li>
    
    {% if request.user.is_superuser %}
      <li class="dropdown pc-h-item">
        <a class="pc-head-link dropdown-toggle me-0" data-pc-toggle="dropdown" href="#" role="button"
          aria-haspopup="false" aria-expanded="false">
          <i data-feather="bell"></i>
          <span class="ml-1 hidden sm:inline">Notifications</span>
          <span class="badge bg-success-500 text-white rounded-full z-10 absolute right-0 top-0">{{ pending_requests_count }}</span>
        </a>
        <div class="dropdown-menu dropdown-notification dropdown-menu-end pc-h-dropdown p-2">
          <div class="dropdown-header flex items-center justify-between py-4 px-5">
            <h5 class="m-0">Pending Requests</h5>
          </div>
          <div class="dropdown-body header-notification-scroll relative py-2 px-3" style="max-height: calc(100vh - 215px)">
            {% if pending_requests_count %}
              {% for req in pending_requests %}
                <a href="{% url 'requestflow:admin_review' req.id %}" class="dropdown-item flex items-center justify-between">
                  <span>#{{ req.id }} — {{ req.user.email }} — {{ req.vlan.name }}</span>
                  <span class="text-muted text-sm">{{ req.created_at|date:"Y-m-d H:i" }}</span>
                </a>
              {% endfor %}
            {% else %}
              <span class="dropdown-item-text text-muted">No pending requests.</span>
            {% endif %}
          </div>
        </div>
      </li>
    {% endif %}
    <li class="dropdown pc-h-item header-user-profile">
      <a class="pc-head-link dropdown-toggle arrow-none me-0" data-pc-toggle="dropdown" href="#" role="button"
        aria-haspopup="false" data-pc-auto-close="outside" aria-expanded="false">
        <i data-feather="user"></i>
      </a>
      <div class="dropdown-menu dropdown-user-profile dropdown-menu-end pc-h-dropdown p-2 overflow-hidden">
        {% if request.user.is_authenticated %}
          <div class="dropdown-header flex items-center justify-between py-4 px-5 bg-primary-500">
            <div class="flex mb-1 items-center">
              <div class="shrink-0">
                <img src="{% static 'images/user/avatar-2.jpg' %} " alt="user-image" class="w-10 rounded-full" />
              </div>
              <div class="grow ms-3">
                <h6 class="mb-1 text-white">{{ request.user.user_profile.get_fullname }}</h6>
                <span class="text-white">{{ request.user.email }}</span>
              </div>
            </div>
          </div>
          <div class="dropdown-body py-4 px-5">
            <div class="profile-notification-scroll position-relative" style="max-height: calc(100vh - 225px)">
              <a href="{% url 'accounts:password_change' %}" class="dropdown-item">
                <span>
                  <svg class="pc-icon text-muted me-2 inline-block">
                    <use xlink:href="#custom-lock-outline"></use>
                  </svg>
                  <span>Change Password</span>
                </span>
              </a>
              <a href="{% url 'accounts:profile' %}" class="dropdown-item">
                <span>
                  <svg class="pc-icon text-muted me-2 inline-block">
                    <use xlink:href="#custom-user"></use>
                  </svg>
                  <span>Profile</span>
                </span>
              </a>
              <div class="grid my-3">
                <form method="post" action="{% url 'accounts:logout' %}">
                  {% csrf_token %}
                  <button type="submit" class="btn btn-primary flex items-center justify-center w-full">
                    <svg class="pc-icon me-2 w-[22px] h-[22px]">
                      <use xlink:href="#custom-logout-1-outline"></use>
                    </svg>
                    Logout
                  </button>
                </form>
              </div>
            </div>
          </div>
        {% else %}
          <div class="dropdown-body py-4 px-5">
            <a href="{% url 'accounts:login' %}" class="dropdown-item">
              <span>
                <svg class="pc-icon text-muted me-2 inline-block">
                  <use xlink:href="#custom-login-outline"></use>
                </svg>
                <span>Login</span>
              </span>
            </a>
          </div>
        {% endif %}
      </div>
    </li>
  </ul>
</div></div>
</header>
<!-- [ Header ] end -->



    <!-- [ Main Content ] start -->
 <div class="pc-container">
      <div class="pc-content">

    {% block content %}
    {% endblock %}
     </div>
    </div>
    <!-- [ Main Content ] end -->
    <footer class="pc-footer">
      <div class="footer-wrapper container-fluid mx-10">
        <div class="grid grid-cols-12 gap-1.5">
          <div class="col-span-12 sm:col-span-6 my-1">
            <p class="m-0"></p>
          </div>
          <div class="col-span-12 sm:col-span-6 my-1 justify-self-end">
            <p class="inline-block max-sm:mr-3 sm:ml-2"></p>
          </div>
        </div>
      </div>
    </footer>
 
    <!-- Required Js -->
    <script src="{% static 'js/plugins/simplebar.min.js' %} "></script>
    <script src="{% static 'js/plugins/popper.min.js' %} "></script>
    <script src="{% static 'js/icon/custom-icon.js' %} "></script>
    <script src="{% static 'js/plugins/feather.min.js' %} "></script>
    <script src="{% static 'js/component.js' %} "></script>
    <script src="{% static 'js/theme.js' %} "></script>
    <script src="{% static 'js/script.js' %} "></script>

    <div class="floting-button fixed bottom-[50px] right-[30px] z-[1030]">
    </div>

    
    <script>
      layout_change('false');
    </script>
     
    
    <script>
      layout_theme_sidebar_change('dark');
    </script>
    
     
    <script>
      change_box_container('false');
    </script>
     
    <script>
      layout_caption_change('true');
    </script>
     
    <script>
      layout_rtl_change('false');
    </script>
     
    <script>
      preset_change('preset-1');
    </script>
     
    <script>
      main_layout_change('vertical');
    </script>

      <!-- JS Toastify -->
    <script src="{% static 'vendor/toastify/toastify.js' %}"></script>

    {% include 'messages.html' %}

  </body>
  <!-- [Body] end -->
</html>
